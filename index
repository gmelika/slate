<h1 id="introduction">Introduction</h1>

<p>Welcome to the SFOX API! The SFOX API allows you to connect your application to our platform execute trades, deposit and withdraw without going through the web interface.</p>

<h1 id="authentication">Authentication</h1>

<blockquote>
<p>To authorize, use this code:</p>
</blockquote>
<pre class="highlight shell"><code><span class="c"># With shell, you can just pass the correct header with each request</span>
curl <span class="s2">"api_endpoint_here"</span>
  -u <span class="s2">"&lt;api token&gt;:"</span>
</code></pre>

<blockquote>
<p>Make sure to replace <code class="prettyprint">&lt;api_key&gt;</code> with your API key, and don&rsquo;t forget the colon.</p>
</blockquote>

<p>SFOX uses API keys to allow access to the API. You can register a new SFOX API key at our <a href="http://sfox.com/#/account/api">developer portal</a>.</p>

<p>SFOX expects for the API key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code class="prettyprint">Authorization: Bearer &lt;api_key&gt;</code></p>

<aside class="notice">
You must replace `<api_key>` with your personal API key.
</aside>

<h1 id="price-data">Price Data</h1>

<h2 id="get-best-price">Get Best Price</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/offer/buy?amount=1"</span>
</code></pre>

<blockquote>
<p>The result of the calls is something like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"quantity"</span><span class="p">:</span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vwap"</span><span class="p">:</span><span class="mf">383.00</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="mf">383.21</span><span class="p">,</span><span class="w">
  </span><span class="nt">"fees"</span><span class="p">:</span><span class="mf">0.95</span><span class="p">,</span><span class="w">
  </span><span class="nt">"total"</span><span class="p">:</span><span class="mf">382.26</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will return the limit price you need to specify for this order to execute fully. Please note that price fluctuates very quickly and this price is based on the data available at that moment.</p>

<p>To get the sell price simply change &ldquo;buy&rdquo; to &ldquo;sell&rdquo; in the url.</p>

<p>You can use the &ldquo;price&rdquo; returned to you in the limit order you&rsquo;re placing.  &ldquo;vwap&rdquo; on the other hand is the expected average execution price. Even though the price is 383.21 in this example, you should expect to pay $383 (vwap * quantity)</p>

<h2 id="get-orderbook">Get Orderbook</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/markets/orderbook"</span>
</code></pre>

<blockquote>
<p>The result of the calls is an array of bids and asks:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"bids"</span><span class="p">:[</span><span class="w">
    </span><span class="p">[</span><span class="mf">383.26</span><span class="p">,</span><span class="mf">0.53</span><span class="p">,</span><span class="s2">"bitstamp"</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mf">383.2</span><span class="p">,</span><span class="mf">1.02069829</span><span class="p">,</span><span class="s2">"bitstamp"</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mf">383.18</span><span class="p">,</span><span class="mf">0.03914609</span><span class="p">,</span><span class="s2">"bitstamp"</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mf">381.01</span><span class="p">,</span><span class="mf">1.97630598</span><span class="p">,</span><span class="s2">"bitfinex"</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mf">380.93</span><span class="p">,</span><span class="mf">0.705</span><span class="p">,</span><span class="s2">"bitfinex"</span><span class="p">]</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="nt">"asks"</span><span class="p">:[</span><span class="w">
    </span><span class="p">[</span><span class="mf">381.06</span><span class="p">,</span><span class="mf">0.01</span><span class="p">,</span><span class="s2">"bitfinex"</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mf">381.1</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="s2">"bitfinex"</span><span class="p">],</span><span class="w">
    </span><span class="p">[</span><span class="mf">383.74</span><span class="p">,</span><span class="mf">1.307</span><span class="p">,</span><span class="s2">"bitstamp"</span><span class="p">]</span><span class="w">
  </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This will return the blended orderbook of all the available exchanges.</p>

<h1 id="user">User</h1>

<h2 id="get-account-balance">Get Account Balance</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/user/balance"</span>
  -u <span class="s2">"&lt;api_key&gt;:"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"btc"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="mf">0.627</span><span class="p">,</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="mi">0</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"currency"</span><span class="p">:</span><span class="s2">"usd"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"balance"</span><span class="p">:</span><span class="mf">0.25161318</span><span class="p">,</span><span class="w">
    </span><span class="nt">"available"</span><span class="p">:</span><span class="mf">0.23161321</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint retrieves all the balances for your account.  It returns an array of objects, each of which has details for a single currency.  As this example return object is demonstrating you can have different values for balance and available.  Balance is your total balance for this currency.  Available, on the other hand, is what is available to you to trade and/or withdraw.  The difference is reserved; either in an open trade or a withdrawal request.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.sfox.com/v1/balance</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead><tbody>
</tbody></table>

<p>NONE</p>

<h2 id="withdraw-funds">Withdraw Funds</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/user/withdraw"</span>
  -H <span class="s2">"Authorization: &lt;api_key&gt;"</span>
  -d <span class="s2">"amount=1"</span>
  -d <span class="s2">"address="</span>
  -d <span class="s2">"currency=usd"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint submits a withdrawal request to SFOX.</p>

<aside class="notice">If the request fails, the json result will include an error field with the reason.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://www.sfox.com/v1/user/withdraw</code></p>

<h3 id="form-parameters">Form Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>The amount you wish to withdraw</td>
</tr>
<tr>
<td>currency</td>
<td>Currency is one of: usd or btc</td>
</tr>
<tr>
<td>address</td>
<td>if currency == btc this field has to be a valid mainnet bitcoin address. Otherwise leave it out or empty</td>
</tr>
</tbody></table>

<h2 id="request-an-ach-deposit">Request an ACH deposit</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/user/withdraw"</span>
  -H <span class="s2">"Authorization: &lt;api_key&gt;"</span>
  -d <span class="s2">"amount=1"</span>
</code></pre>

<blockquote>
<p>The above command returns JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint submits an ach deposit request to SFOX.</p>

<aside class="notice">If the request fails, the json result will include an error field with the reason.</aside>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://www.sfox.com/v1/user/deposit</code></p>

<h3 id="form-parameters">Form Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>The amount you wish to deposit from your bank account</td>
</tr>
</tbody></table>

<h1 id="orders">Orders</h1>

<h2 id="buy-bitcoin">Buy Bitcoin</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/orders/buy"</span>
  -u <span class="s2">"&lt;api_key&gt;:"</span>
  -d <span class="s2">"quantity=1"</span>
  -d <span class="s2">"price=10"</span>
</code></pre>

<blockquote>
<p>The above command returns the same JSON object as the Order Status API, and it is structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="p">,</span><span class="w">
  </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nt">"o_action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vwap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint initiates a buy order for bitcoin for the specified amount with the specified limit price.  If there is an issue with the request you will get the reason in the &ldquo;error&rdquo; field.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://www.sfox.com/v1/orders/buy</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>quantity</td>
<td>the amount of bitcoin you wish to buy</td>
</tr>
<tr>
<td>price</td>
<td>the max price you are willing to pay.  The executed price will always be less than or equal to this price if the market conditions allow it, otherwise the order will not execute.</td>
</tr>
</tbody></table>

<h2 id="sell-bitcoin">Sell Bitcoin</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/orders/sell"</span>
  -u <span class="s2">"&lt;api_key&gt;:"</span>
  -d <span class="s2">"quantity=1"</span>
  -d <span class="s2">"price=10"</span>
</code></pre>

<blockquote>
<p>The above command returns the same JSON object as the Order Status API, and it is structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">667</span><span class="p">,</span><span class="w">
  </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nt">"o_action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vwap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint initiates a sell order for bitcoin for the specified amount with the specified limit price.  If there is an issue with the request you will get the reason in the &ldquo;error&rdquo; field.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">POST https://www.sfox.com/v1/orders/sell</code></p>

<h3 id="query-parameters">Query Parameters</h3>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>quantity</td>
<td>the amount of bitcoin you wish to buy</td>
</tr>
<tr>
<td>price</td>
<td>the min price you are willing to accept.  The executed price will always be higher than or equal to this price if the market conditions allow it, otherwise the order will not execute.</td>
</tr>
</tbody></table>

<h2 id="get-order-status">Get Order Status</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/order/&lt;order_id&gt;"</span>
  -u <span class="s2">"&lt;api_key&gt;:"</span>
</code></pre>

<blockquote>
<p>The above command returns a JSON structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">{</span><span class="w">
  </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="p">,</span><span class="w">
  </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
  </span><span class="nt">"o_action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
  </span><span class="nt">"vwap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>

<p>This endpoint returns the status of the order specified by the <order_id> url parameter</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.sfox.com/v1/order/&lt;order_id&gt;</code></p>

<h3 id="possible-quot-status-quot-values">Possible &ldquo;status&rdquo; values</h3>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Started</td>
<td>The order is open on the marketplace waiting for fills</td>
</tr>
<tr>
<td>Cancel pending</td>
<td>The order is in the process of being cancelled</td>
</tr>
<tr>
<td>Canceled</td>
<td>The order was successfully canceled</td>
</tr>
<tr>
<td>Filled</td>
<td>The order was filled</td>
</tr>
<tr>
<td>Done</td>
<td>The order was completed successfully</td>
</tr>
</tbody></table>

<h2 id="get-active-orders">Get Active Orders</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/orders"</span>
  -u <span class="s2">"&lt;api_key&gt;:"</span>
</code></pre>

<blockquote>
<p>The above command returns an array of Order Status JSON objects structured like this:</p>
</blockquote>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">666</span><span class="p">,</span><span class="w">
    </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"o_action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Buy"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vwap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nt">"id"</span><span class="p">:</span><span class="w"> </span><span class="mi">667</span><span class="p">,</span><span class="w">
    </span><span class="nt">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
    </span><span class="nt">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">10</span><span class="p">,</span><span class="w">
    </span><span class="nt">"o_action"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Sell"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BTCUSD"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Limit"</span><span class="p">,</span><span class="w">
    </span><span class="nt">"vwap"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"filled"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="nt">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Started"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>

<p>This endpoint returns an array of statuses for all active orders.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">GET https://www.sfox.com/v1/orders</code></p>

<h3 id="possible-quot-status-quot-values">Possible &ldquo;status&rdquo; values</h3>

<table><thead>
<tr>
<th>Value</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Started</td>
<td>The order is open on the marketplace waiting for fills</td>
</tr>
<tr>
<td>Cancel pending</td>
<td>The order is in the process of being cancelled</td>
</tr>
<tr>
<td>Canceled</td>
<td>The order was successfully canceled</td>
</tr>
<tr>
<td>Filled</td>
<td>The order was filled</td>
</tr>
<tr>
<td>Done</td>
<td>The order was completed successfully</td>
</tr>
</tbody></table>

<h2 id="cancel-order">Cancel Order</h2>
<pre class="highlight shell"><code>curl <span class="s2">"https://www.sfox.com/v1/order/&lt;order_id&gt;"</span>
  -u <span class="s2">"&lt;api_key&gt;:"</span>
  -X DELETE
</code></pre>

<blockquote>
<p>The above command does not return anything.  To check on the cancellation status of the order you will need to poll the get order status api.</p>
</blockquote>

<p>This endpoint will start cancelling the order specified.</p>

<h3 id="http-request">HTTP Request</h3>

<p><code class="prettyprint">DELETE https://www.sfox.com/v1/order/&lt;order_id&gt;</code></p>
